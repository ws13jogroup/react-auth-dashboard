:root { font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif; line-height: 1.5; }
body { margin: 0; background: #0f172a; color: #e2e8f0; }
a { color: #93c5fd; text-decoration: none; }
a:hover { text-decoration: underline; }

.nav { display:flex; justify-content:space-between; align-items:center; padding:12px 16px; border-bottom:1px solid #1f2937; background:#111827; position:sticky; top:0; }
.brand { font-weight: 700; }
.nav-right { display:flex; gap:12px; align-items:center; }
.nav button { background:#ef4444; border:none; color:white; padding:8px 12px; border-radius:6px; cursor:pointer; }
.nav .user { font-size: .9rem; opacity: .9; }

.container { padding: 24px; }
.card { max-width: 420px; margin: 48px auto; padding: 24px; background:#111827; border:1px solid #1f2937; border-radius:12px; }
.form { display:flex; flex-direction:column; gap:12px; }
label { display:flex; flex-direction:column; gap:6px; font-size:.9rem; }
input { padding:10px 12px; border-radius:8px; border:1px solid #334155; background:#0b1220; color:#e2e8f0; }
button { padding:10px 14px; border-radius:8px; border:1px solid #334155; background:#0b1220; color:#e2e8f0; cursor:pointer; }
button:disabled { opacity:.6; cursor: not-allowed; }

.muted { color:#94a3b8; font-size:.9rem; }
.error { color:#fca5a5; }
.success { color:#86efac; }

.grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap:16px; }
.panel { padding:16px; background:#111827; border:1px solid #1f2937; border-radius:12px; }

/* wrapper fisso che segue il FAB ovunque */
.chatbot-wrapper {
  position: fixed;
  z-index: 60;
  pointer-events: none; /* il wrapper di per sé non intercetta eventi... */
}
/* ...ma FAB e pannello sì */
.chatbot-wrapper > * {
  pointer-events: auto;
}

/* FAB come prima ma senza right/bottom fissi */
.chatbot-fab {
  width: 56px; height: 56px;
  border-radius: 9999px;
  border: none;
  cursor: grab;
  background: #2563eb;
  color: white;
  fill: white;
  display: grid; place-items: center;
  box-shadow: 0 10px 20px rgba(0,0,0,.35);
  user-select: none;
}
.chatbot-fab:active { cursor: grabbing; }
.chatbot-fab:hover { filter: brightness(1.08); }

/* Pannello ancorato al wrapper: sta “sopra” il FAB */
.chatbot-panel {
  position: absolute;
  right: 0;
  bottom: calc(56px + 12px);
  width: 320px;
  max-height: 60vh;
  background: #0b1220;
  border: 1px solid #1f2937;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  box-shadow: 0 20px 40px rgba(0,0,0,.45);
}

.chatbot-header {
  padding: 10px 12px;
  background: #111827;
  border-bottom: 1px solid #1f2937;
  display:flex; justify-content:space-between; align-items:center;
  font-weight: 600;
}
.chatbot-close { background: transparent; border: none; color: #cbd5e1; font-size: 16px; cursor: pointer; }

.chatbot-body { padding: 10px; display:flex; flex-direction:column; gap:8px; overflow-y: auto; }
.chatbot-hint { color:#94a3b8; font-size: .9rem; text-align: center; }

.msg { display:flex; }
.msg.user { justify-content: flex-end; }
.msg.bot { justify-content: flex-start; }
.bubble {
  max-width: 75%;
  padding: 8px 10px;
  border-radius: 12px;
  font-size: .95rem;
  line-height: 1.3;
  word-break: break-word;
}
.msg.user .bubble { background:#2563eb; color:#fff; border-top-right-radius:4px; }
.msg.bot .bubble { background:#111827; color:#e5e7eb; border:1px solid #1f2937; border-top-left-radius:4px; }

.chatbot-footer { padding:8px; display:flex; gap:8px; border-top:1px solid #1f2937; background:#0b1220; }
.chatbot-footer input {
  flex:1; padding:10px 12px; border-radius:8px; border:1px solid #334155; background:#0a0f1a; color:#e2e8f0;
}
.chatbot-footer button {
  padding:10px 14px; border-radius:8px; border:1px solid #334155; background:#111827; color:#e2e8f0; cursor:pointer;
}
.chatbot-footer button:hover { filter: brightness(1.08); }
